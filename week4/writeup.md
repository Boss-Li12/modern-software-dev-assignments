# Week 4 Write-up
Tip: To preview this markdown file
- On Mac, press `Command (âŒ˜) + Shift + V`
- On Windows/Linux, press `Ctrl + Shift + V`

## INSTRUCTIONS

Fill out all of the `TODO`s in this file.

## SUBMISSION DETAILS

Name: **TODO** \
SUNet ID: **TODO** \
Citations: 
- [Claude Code Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices)
- [SubAgents Overview](https://docs.anthropic.com/en/docs/claude-code/sub-agents)

This assignment took me about **3** hours to do. 


## YOUR RESPONSES

---

### Automation #1: æ–œæ å‘½ä»¤ (Slash Command) - `/run-tests`

#### a. è®¾è®¡çµæ„Ÿ

> æœ¬è‡ªåŠ¨åŒ–çš„è®¾è®¡çµæ„Ÿæ¥æºäº [Claude Code Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices) ä¸­å…³äº **Custom Slash Commands** çš„æè¿°ï¼š
> 
> *"Slash commands are a feature for repeated workflows, letting you create reusable workflows in Markdown files."*
> 
> åœ¨ Claude Code ä¸­ï¼Œæ–œæ å‘½ä»¤å­˜æ”¾åœ¨ `.claude/commands/*.md`ã€‚åœ¨ Antigravity ä¸­ï¼Œå¯¹åº”çš„åŠŸèƒ½æ˜¯ **Workflows**ï¼Œå­˜æ”¾åœ¨ `.agent/workflows/*.md`ã€‚

#### b. è®¾è®¡è¯¦æƒ…

**ç›®æ ‡**: åˆ›å»ºä¸€ä¸ªå¯é‡å¤ä½¿ç”¨çš„æµ‹è¯•å·¥ä½œæµï¼Œä¸€é”®è¿è¡Œæµ‹è¯•ã€ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Šã€æ£€æŸ¥ä»£ç è´¨é‡ã€‚

**æ–‡ä»¶ä½ç½®**: 
- `.agent/workflows/run-tests.md` (Antigravity æ ¼å¼)
- `.claude/commands/tests.md` (Claude Code æ ¼å¼)

**è¾“å…¥/è¾“å‡º**:
| ç±»å‹ | å†…å®¹ |
|------|------|
| è¾“å…¥ | `$ARGUMENTS` - å¯é€‰çš„ pytest å‚æ•°ï¼ˆå¦‚ `-k test_notes`ï¼‰ |
| è¾“å‡º | æµ‹è¯•ç»“æœã€è¦†ç›–ç‡æŠ¥å‘Šã€Lint æ£€æŸ¥ç»“æœ |

**å†…éƒ¨è¿è¡Œé€»è¾‘**:
```
ç”¨æˆ·è¾“å…¥: /run-tests
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Antigravity è¯»å– .agent/workflows/run-tests.md    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è§£æ YAML frontmatter è·å–æè¿°                      â”‚
â”‚  description: Run tests with coverage...            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯†åˆ« `// turbo-all` æ ‡è®°                            â”‚
â”‚  â†’ æ‰€æœ‰æ­¥éª¤è‡ªåŠ¨æ‰§è¡Œ (SafeToAutoRun=true)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æŒ‰é¡ºåºæ‰§è¡Œæ­¥éª¤:                                     â”‚
â”‚  1. pytest -v backend/tests                         â”‚
â”‚  2. pytest --cov=backend                            â”‚
â”‚  3. make lint                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¾“å‡ºæ‰§è¡Œç»“æœï¼Œæä¾›ä¸‹ä¸€æ­¥å»ºè®®                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ­¥éª¤è¯¦è§£**:
1. **è¿è¡Œæµ‹è¯•**: `pytest -v backend/tests --tb=short`
2. **ç”Ÿæˆè¦†ç›–ç‡**: `pytest --cov=backend --cov-report=term-missing`
3. **ä»£ç æ£€æŸ¥**: `make lint`

#### c. å¦‚ä½•è¿è¡Œ

**è¿è¡Œå‘½ä»¤**:
```bash
# åœ¨ä¸ Antigravity å¯¹è¯æ—¶è¾“å…¥:
/run-tests

# å¸¦å‚æ•°:
/run-tests -k test_notes    # åªè¿è¡Œ notes ç›¸å…³æµ‹è¯•
/run-tests --lf             # åªè¿è¡Œä¸Šæ¬¡å¤±è´¥çš„æµ‹è¯•
```

**é¢„æœŸè¾“å‡º**:
```
âœ… æ­¥éª¤ 1 å®Œæˆ - 8 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡
âœ… æ­¥éª¤ 2 å®Œæˆ - è¦†ç›–ç‡ 92%
âœ… æ­¥éª¤ 3 å®Œæˆ - Lint æ£€æŸ¥é€šè¿‡
```

**å®‰å…¨è¯´æ˜**:
- æµ‹è¯•åœ¨ä¸´æ—¶ SQLite æ•°æ®åº“ä¸Šè¿è¡Œï¼Œä¸å½±å“ç”Ÿäº§æ•°æ®
- `// turbo-all` æ ‡è®°ç¡®ä¿è‡ªåŠ¨æ‰§è¡Œ
- å¯å®‰å…¨é‡å¤è¿è¡Œ

#### d. å‰åå¯¹æ¯”

| æ‰‹åŠ¨å·¥ä½œæµ | è‡ªåŠ¨åŒ–å·¥ä½œæµ |
|-----------|-------------|
| 1. æ‰‹åŠ¨è¾“å…¥ `make test` | 1. è¾“å…¥ `/run-tests` |
| 2. ç­‰å¾…ç»“æœï¼Œæ‰‹åŠ¨æ£€æŸ¥è¾“å‡º | 2. è‡ªåŠ¨æ‰§è¡Œ 3 ä¸ªæ­¥éª¤ |
| 3. æ‰‹åŠ¨è¾“å…¥ `pytest --cov` | 3. è‡ªåŠ¨ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š |
| 4. æ‰‹åŠ¨è¾“å…¥ `make lint` | 4. è‡ªåŠ¨æ£€æŸ¥ä»£ç è´¨é‡ |
| 5. æ‰‹åŠ¨åˆ†æç»“æœ | 5. è‡ªåŠ¨æä¾›æ”¹è¿›å»ºè®® |
| **éœ€è¦ 5 ä¸ªæ­¥éª¤ï¼Œçº¦ 3-5 åˆ†é’Ÿ** | **1 ä¸ªå‘½ä»¤ï¼Œçº¦ 30 ç§’** |

#### e. å¦‚ä½•å¢å¼º Starter Application

ä½¿ç”¨ `/run-tests` å·¥ä½œæµï¼Œæˆ‘æˆåŠŸå®Œæˆäº†ä»¥ä¸‹æ”¹è¿›ï¼š

1. **å‘ç°å¹¶ä¿®å¤ Lint é—®é¢˜**: è¿è¡Œå·¥ä½œæµæ—¶å‘ç° `Optional[str]` éœ€è¦æ”¹ä¸º `str | None`ï¼ˆPython 3.10+ è¯­æ³•ï¼‰

2. **å®ç° DELETE ç«¯ç‚¹**: 
   - è¿è¡Œæµ‹è¯•ç¡®è®¤åˆå§‹çŠ¶æ€ï¼ˆ3 æµ‹è¯•é€šè¿‡ï¼‰
   - æ·»åŠ  DELETE åŠŸèƒ½åè¿è¡ŒéªŒè¯ï¼ˆ5 æµ‹è¯•é€šè¿‡ï¼‰
   - è¦†ç›–ç‡ä» 86% æå‡

3. **æŒç»­é›†æˆæ•ˆæœ**: æ¯æ¬¡ä»£ç å˜æ›´åï¼Œä¸€ä¸ªå‘½ä»¤å³å¯éªŒè¯æ‰€æœ‰æµ‹è¯•å’Œä»£ç è´¨é‡

---

### Automation #2: CLAUDE.md é¡¹ç›®æŒ‡å¯¼æ–‡æ¡£

#### a. è®¾è®¡çµæ„Ÿ

> æ¥æºäº [Claude Code Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices) ä¸­å…³äº **CLAUDE.md** çš„æè¿°ï¼š
> 
> *"The CLAUDE.md file is automatically read when starting a conversation, allowing you to provide repository-specific instructions, context, or guidance that influence Claude's behavior."*
> 
> CLAUDE.md ä¸æ˜¯ä¸»åŠ¨è°ƒç”¨çš„å‘½ä»¤ï¼Œè€Œæ˜¯**è¢«åŠ¨è¯»å–çš„ä¸Šä¸‹æ–‡æ–‡ä»¶**ï¼Œç±»ä¼¼äºç»™ AI åŠ©æ‰‹çš„"å‘˜å·¥æ‰‹å†Œ"ã€‚

#### b. è®¾è®¡è¯¦æƒ…

**ç›®æ ‡**: åˆ›å»ºé¡¹ç›®æŒ‡å¯¼æ–‡æ¡£ï¼Œå½±å“ AI åŠ©æ‰‹å¤„ç†è¯·æ±‚çš„æ–¹å¼ã€‚

**æ–‡ä»¶ä½ç½®**: `week4/CLAUDE.md`

**å†…éƒ¨è¿è¡Œé€»è¾‘**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·æ‰“å¼€é¡¹ç›® / å¼€å§‹å¯¹è¯                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Claude Code è‡ªåŠ¨æ‰«æ CLAUDE.md                      â”‚
â”‚  (Antigravity éœ€è¦æ‰‹åŠ¨å¼•ç”¨)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CLAUDE.md å†…å®¹æˆä¸º AI çš„"ç³»ç»ŸæŒ‡ä»¤"                  â”‚
â”‚                                                     â”‚
â”‚  åŒ…å«:                                              â”‚
â”‚  - é¡¹ç›®ç»“æ„è¯´æ˜                                      â”‚
â”‚  - ä»£ç é£æ ¼è§„èŒƒ                                      â”‚
â”‚  - æ ‡å‡†å·¥ä½œæµç¨‹                                      â”‚
â”‚  - å®‰å…¨/ä¸å®‰å…¨å‘½ä»¤åˆ—è¡¨                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI åç»­æ‰€æœ‰å›ç­”éƒ½éµå¾ª CLAUDE.md ä¸­çš„è§„åˆ™            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CLAUDE.md åŒ…å«çš„ç« èŠ‚**:

| ç« èŠ‚ | å†…å®¹ | ä½œç”¨ |
|------|------|------|
| ğŸ—ï¸ Project Overview | æŠ€æœ¯æ ˆä»‹ç» | è®© AI äº†è§£é¡¹ç›®èƒŒæ™¯ |
| ğŸš€ Quick Start Commands | è¿è¡Œå‘½ä»¤ | ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„å‘½ä»¤ |
| ğŸ“ Code Navigation | æ–‡ä»¶ç»“æ„ | å¸®åŠ©å®šä½ä»£ç ä½ç½® |
| ğŸ¨ Style & Safety | ä»£ç è§„èŒƒ | ç¡®ä¿ä»£ç é£æ ¼ä¸€è‡´ |
| ğŸ”„ Standard Workflows | å·¥ä½œæµç¨‹ | ç¡®ä¿éµå¾ªæœ€ä½³å®è·µ |
| ğŸ¤– AI Guidelines | AI è¡Œä¸ºå‡†åˆ™ | æŒ‡å¯¼ AI å¦‚ä½•å·¥ä½œ |

#### c. å¦‚ä½•è¿è¡Œ

**ä½¿ç”¨æ–¹å¼**ï¼ˆä¸æ–œæ å‘½ä»¤ä¸åŒï¼ŒCLAUDE.md æ˜¯è¢«åŠ¨è¯»å–çš„ï¼‰:
```bash
# æ–¹å¼ 1: åœ¨è¯·æ±‚ä¸­å¼•ç”¨
"è¯·å‚è€ƒ CLAUDE.md ä¸­çš„è§„èŒƒï¼Œæ·»åŠ ä¸€ä¸ªæ–°ç«¯ç‚¹"

# æ–¹å¼ 2: Claude Code ä¼šè‡ªåŠ¨è¯»å–ï¼ˆAntigravity éœ€æ‰‹åŠ¨å¼•ç”¨ï¼‰
```

**é¢„æœŸæ•ˆæœ**:
```
ç”¨æˆ·: "å¸®æˆ‘æ·»åŠ ä¸€ä¸ªæ–°çš„ API ç«¯ç‚¹"

AI (å‚è€ƒ CLAUDE.md å): 
"æ ¹æ® CLAUDE.md ä¸­çš„ Standard Workflowsï¼Œæ·»åŠ æ–°ç«¯ç‚¹éœ€è¦ï¼š
1. å…ˆå†™å¤±è´¥çš„æµ‹è¯•
2. æ·»åŠ  Pydantic schema
3. å®ç°ç«¯ç‚¹
4. è¿è¡Œ make test
5. è¿è¡Œ pre-commit
è®©æˆ‘æŒ‰è¿™ä¸ªæµç¨‹æ¥åš..."
```

**å®‰å…¨è¯´æ˜**:
- CLAUDE.md æ˜ç¡®åˆ—å‡ºäº†å®‰å…¨å‘½ä»¤ï¼ˆmake run, make test ç­‰ï¼‰
- æ˜ç¡®æ ‡æ³¨äº†ä¸å®‰å…¨å‘½ä»¤ï¼ˆrm -rf data/ ç­‰ï¼‰
- AI ä¼šéµå¾ªè¿™äº›è§„åˆ™é¿å…ç ´åæ€§æ“ä½œ

#### d. å‰åå¯¹æ¯”

| æ²¡æœ‰ CLAUDE.md | æœ‰ CLAUDE.md |
|---------------|--------------|
| AI å¯èƒ½ç›´æ¥å†™ä»£ç ï¼Œä¸è€ƒè™‘è§„èŒƒ | AI éµå¾ªé¡¹ç›®è§„èŒƒï¼ˆTDDã€ä»£ç é£æ ¼ï¼‰ |
| éœ€è¦åå¤è§£é‡Šé¡¹ç›®ç»“æ„ | AI è‡ªåŠ¨äº†è§£æ–‡ä»¶ä½ç½® |
| æ¯æ¬¡éƒ½è¦æé†’ä»£ç é£æ ¼ | AI è‡ªåŠ¨ä½¿ç”¨æ­£ç¡®è¯­æ³• |
| å¯èƒ½æ‰§è¡Œå±é™©å‘½ä»¤ | AI çŸ¥é“å“ªäº›å‘½ä»¤æ˜¯å®‰å…¨çš„ |

#### e. å¦‚ä½•å¢å¼º Starter Application

ä½¿ç”¨ CLAUDE.md è§„èŒƒï¼Œæˆ‘æˆåŠŸå®Œæˆäº†ä»¥ä¸‹æ”¹è¿›ï¼š

1. **éµå¾ª TDD æµç¨‹**: æŒ‰ç…§ CLAUDE.md ä¸­å®šä¹‰çš„ "Adding a New API Endpoint" å·¥ä½œæµï¼š
   - å…ˆå†™å¤±è´¥æµ‹è¯• â†’ å®ç°åŠŸèƒ½ â†’ éªŒè¯é€šè¿‡ â†’ è¿è¡Œ lint

2. **å®ç° DELETE /notes/{id}**: ä¸¥æ ¼æŒ‰ç…§ 6 æ­¥å·¥ä½œæµç¨‹å®Œæˆ

3. **ä¿æŒä»£ç é£æ ¼ä¸€è‡´**: ä½¿ç”¨ Python 3.10+ è¯­æ³• `str | None`

---

### Automation #3: SubAgents (TestAgent + CodeAgent)

#### a. è®¾è®¡çµæ„Ÿ

> æ¥æºäº [SubAgents Overview](https://docs.anthropic.com/en/docs/claude-code/sub-agents)ï¼š
> 
> *"SubAgents are specialized AI assistants configured to handle specific tasks with their own system prompts, tools, and context."*
> 
> SubAgents å°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºä¸“ä¸šè§’è‰²ï¼Œæ¯ä¸ªè§’è‰²æœ‰æ˜ç¡®çš„èŒè´£å’Œçº¦æŸã€‚

#### b. è®¾è®¡è¯¦æƒ…

**ç›®æ ‡**: åˆ›å»º TestAgent + CodeAgent åä½œç³»ç»Ÿï¼Œå®ç°ä¸“ä¸šåŒ–çš„ TDD å¼€å‘æµç¨‹ã€‚

**æ–‡ä»¶ç»“æ„**:
```
week4/.claude/subagents/
â”œâ”€â”€ README.md          # SubAgent ç³»ç»Ÿè¯´æ˜
â”œâ”€â”€ test-agent.md      # TestAgent é…ç½®
â””â”€â”€ code-agent.md      # CodeAgent é…ç½®

.agent/workflows/
â””â”€â”€ tdd-feature.md     # TDD å·¥ä½œæµï¼ˆè°ƒç”¨ SubAgentsï¼‰
```

**SubAgent è§’è‰²å®šä¹‰**:

| Agent | è§’è‰² | èŒè´£ | çº¦æŸ |
|-------|------|------|------|
| **TestAgent** | æµ‹è¯•ä¸“å®¶ | ç¼–å†™æµ‹è¯•ã€éªŒè¯è¦†ç›–ç‡ | ä¸èƒ½å†™ç”Ÿäº§ä»£ç  |
| **CodeAgent** | å®ç°ä¸“å®¶ | å®ç°åŠŸèƒ½ã€é€šè¿‡æµ‹è¯• | ä¸èƒ½å†™æµ‹è¯• |

**å†…éƒ¨è¿è¡Œé€»è¾‘**:
```
ç”¨æˆ·è¾“å…¥: /tdd-feature Add PUT /notes/{id} endpoint
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯»å– tdd-feature.md å·¥ä½œæµ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 1: æ¿€æ´» TestAgent                             â”‚
â”‚  â”œâ”€â”€ è¯»å– test-agent.md è·å–è§’è‰²å®šä¹‰                 â”‚
â”‚  â”œâ”€â”€ åˆ†æåŠŸèƒ½éœ€æ±‚                                    â”‚
â”‚  â”œâ”€â”€ ç¼–å†™å¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹                              â”‚
â”‚  â”œâ”€â”€ è¿è¡Œ pytest ç¡®è®¤æµ‹è¯•å¤±è´¥                        â”‚
â”‚  â””â”€â”€ è¾“å‡º: TestAgent Report                         â”‚
â”‚       - å·²å†™æµ‹è¯•åˆ—è¡¨                                 â”‚
â”‚       - é¢„æœŸè¡Œä¸ºæè¿°                                 â”‚
â”‚       - å½“å‰çŠ¶æ€: âŒ æµ‹è¯•å¤±è´¥ï¼ˆé¢„æœŸï¼‰                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ Handoffï¼ˆäº¤æ¥ï¼‰
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 2: æ¿€æ´» CodeAgent                             â”‚
â”‚  â”œâ”€â”€ è¯»å– code-agent.md è·å–è§’è‰²å®šä¹‰                 â”‚
â”‚  â”œâ”€â”€ é˜…è¯»æµ‹è¯•ç†è§£éœ€æ±‚                                â”‚
â”‚  â”œâ”€â”€ å®ç°åŠŸèƒ½ä»£ç                                     â”‚
â”‚  â”œâ”€â”€ è¿è¡Œ pytest ç¡®è®¤æµ‹è¯•é€šè¿‡                        â”‚
â”‚  â”œâ”€â”€ è¿è¡Œ make lint æ£€æŸ¥ä»£ç                          â”‚
â”‚  â””â”€â”€ è¾“å‡º: CodeAgent Report                         â”‚
â”‚       - ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨                               â”‚
â”‚       - å®ç°ç»†èŠ‚                                     â”‚
â”‚       - æµ‹è¯•çŠ¶æ€: âœ… å…¨éƒ¨é€šè¿‡                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ Handoffï¼ˆäº¤æ¥ï¼‰
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 3: TestAgent éªŒè¯                             â”‚
â”‚  â”œâ”€â”€ è¿è¡Œè¦†ç›–ç‡æŠ¥å‘Š                                  â”‚
â”‚  â”œâ”€â”€ ç¡®è®¤åŠŸèƒ½å®Œæˆ                                    â”‚
â”‚  â””â”€â”€ è¾“å‡º: æœ€ç»ˆéªŒè¯æŠ¥å‘Š                              â”‚
â”‚       - è¦†ç›–ç‡: 92%                                  â”‚
â”‚       - åŠŸèƒ½å®Œæˆï¼ğŸ‰                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**TestAgent é…ç½®è¦ç‚¹** (`test-agent.md`):
```markdown
## Role
You are TestAgent, a specialized AI focused on writing tests.

## Constraints
- DO NOT implement production code
- DO NOT modify files outside of backend/tests/
- ALWAYS write tests before asking CodeAgent to implement

## Workflow
1. Analyze Request â†’ 2. Write Tests â†’ 3. Verify Fail â†’ 4. Handoff
```

**CodeAgent é…ç½®è¦ç‚¹** (`code-agent.md`):
```markdown
## Role
You are CodeAgent, a specialized AI focused on implementation.

## Constraints
- DO NOT write tests
- ONLY implement what is needed to pass tests
- MUST run lint check before completing

## Workflow
1. Review Tests â†’ 2. Implement â†’ 3. Verify Pass â†’ 4. Report
```

#### c. å¦‚ä½•è¿è¡Œ

**è¿è¡Œå‘½ä»¤**:
```bash
# ä½¿ç”¨ TDD å·¥ä½œæµ
/tdd-feature Add PUT /notes/{id} endpoint to update note title and content

# æˆ–æ‰‹åŠ¨åˆ‡æ¢è§’è‰²
"ä½œä¸º TestAgentï¼Œå¸®æˆ‘ä¸º PUT /notes/{id} å†™æµ‹è¯•"
"ä½œä¸º CodeAgentï¼Œå®ç°è¿™ä¸ªåŠŸèƒ½è®©æµ‹è¯•é€šè¿‡"
```

**é¢„æœŸè¾“å‡º**:
```
## TDD Feature Implementation Complete

### TestAgent Phase
- Tests written: test_update_note, test_update_note_not_found
- Initial status: âŒ 3 tests failing (expected)

### CodeAgent Phase  
- Files modified: schemas.py, routers/notes.py
- Implementation: PUT endpoint with NoteUpdate schema
- Test status: âœ… All 8 tests passing
- Lint: âœ… Passed

### Verification
- Coverage: 92%
- Feature Complete! ğŸ‰
```

**å®‰å…¨è¯´æ˜**:
- TestAgent åªèƒ½ä¿®æ”¹ `backend/tests/` ç›®å½•
- CodeAgent åªèƒ½ä¿®æ”¹ç”Ÿäº§ä»£ç ï¼Œä¸èƒ½æ”¹æµ‹è¯•
- æ¯ä¸ªé˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„éªŒè¯æ­¥éª¤

#### d. å‰åå¯¹æ¯”

| æ‰‹åŠ¨ TDD æµç¨‹ | SubAgent è‡ªåŠ¨åŒ–æµç¨‹ |
|--------------|-------------------|
| 1. è‡ªå·±æƒ³æµ‹è¯•ç”¨ä¾‹ | 1. TestAgent åˆ†æéœ€æ±‚å¹¶å†™æµ‹è¯• |
| 2. è‡ªå·±å†™æµ‹è¯•ä»£ç  | 2. è‡ªåŠ¨ç”Ÿæˆç¬¦åˆè§„èŒƒçš„æµ‹è¯• |
| 3. è¿è¡Œæµ‹è¯•ç¡®è®¤å¤±è´¥ | 3. è‡ªåŠ¨éªŒè¯æµ‹è¯•å¤±è´¥ |
| 4. è‡ªå·±å®ç°åŠŸèƒ½ | 4. CodeAgent å®ç°æœ€å°å¿…è¦ä»£ç  |
| 5. è¿è¡Œæµ‹è¯•ç¡®è®¤é€šè¿‡ | 5. è‡ªåŠ¨éªŒè¯å¹¶è¿è¡Œ lint |
| 6. è‡ªå·±æ£€æŸ¥è¦†ç›–ç‡ | 6. TestAgent è‡ªåŠ¨éªŒè¯å¹¶æŠ¥å‘Š |
| **å¯èƒ½é—æ¼æ­¥éª¤ï¼Œé£æ ¼ä¸ä¸€è‡´** | **ä¸¥æ ¼éµå¾ª TDDï¼ŒèŒè´£åˆ†ç¦»æ¸…æ™°** |

#### e. å¦‚ä½•å¢å¼º Starter Application

ä½¿ç”¨ SubAgents å·¥ä½œæµï¼Œæˆ‘æˆåŠŸå®Œæˆäº†ä»¥ä¸‹æ”¹è¿›ï¼š

1. **å®ç° PUT /notes/{id}**:
   - **TestAgent** å†™äº† 3 ä¸ªæµ‹è¯•ï¼š
     - `test_update_note` - æµ‹è¯•æˆåŠŸæ›´æ–°
     - `test_update_note_not_found` - æµ‹è¯• 404 æƒ…å†µ
     - `test_update_note_partial` - æµ‹è¯•æ•°æ®å®Œæ•´æ€§
   - **CodeAgent** å®ç°äº†ï¼š
     - `NoteUpdate` schema
     - `PUT /notes/{note_id}` ç«¯ç‚¹

2. **è¦†ç›–ç‡æå‡**: ä» 86% æå‡åˆ° 92%

3. **Notes CRUD å®Œæ•´**: ç°åœ¨æ‹¥æœ‰å®Œæ•´çš„ Create/Read/Update/Delete åŠŸèƒ½

---

## æ€»ç»“

| è‡ªåŠ¨åŒ– | ç±»å‹ | æ ¸å¿ƒä»·å€¼ |
|--------|------|---------|
| `/run-tests` | æ–œæ å‘½ä»¤ | ä¸€é”®è¿è¡Œæµ‹è¯•+è¦†ç›–ç‡+lint |
| `CLAUDE.md` | æŒ‡å¯¼æ–‡æ¡£ | ç¡®ä¿ AI éµå¾ªé¡¹ç›®è§„èŒƒ |
| `SubAgents` | ä¸“ä¸šè§’è‰² | TDD æµç¨‹è‡ªåŠ¨åŒ–ï¼ŒèŒè´£åˆ†ç¦» |

**æœ€ç»ˆæˆæœ**:
- Notes API ä» 4 ä¸ªç«¯ç‚¹æ‰©å±•åˆ° 6 ä¸ªç«¯ç‚¹ï¼ˆæ·»åŠ  DELETE å’Œ PUTï¼‰
- æµ‹è¯•ä» 3 ä¸ªå¢åŠ åˆ° 8 ä¸ª
- è¦†ç›–ç‡ä» 86% æå‡åˆ° 92%
- æ‰€æœ‰ä»£ç é€šè¿‡ lint æ£€æŸ¥
